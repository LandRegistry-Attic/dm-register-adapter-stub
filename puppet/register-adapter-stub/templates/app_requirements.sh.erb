#! /usr/bin/bash

# Build and enter the python virtual environment
virtualenv <%=@module_name%>

source ./<%=@module_name%>/bin/activate

# Install the python app requirements
pip3 install -r requirements.txt
install_requirements=$?

# Check for successes and failures, report and return
if [ "$install_requirements" -eq 0 ]; then
  deactivate
  echo "Pip install SUCESSFUL. Exiting"
  exit 0
elif [ "$install_requirements" -ne 0 ]; then
  deactivate
  echo "Pip install FAILED. Exiting"
  exit 1
fi
